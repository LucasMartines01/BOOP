<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOOP Quiz</title>
    <link rel="stylesheet" href="estilos/quiz.css">
    <script src="js/funcoes.js"></script>
    <script src="js/noticias.js"></script>
    <link rel="stylesheet" href="estilos/noticias.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@700&display=swap" rel="stylesheet">
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/uicons-regular-straight/css/uicons-regular-straight.css'>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background">
        <div class="header">
            <h1>BOOP</h1>
            <div class="navbar">
                <a href="noticias.html">Notícias</a>
                <a href="quiz.html" id="aqui">Quiz</a>
                <a href="formulario.html">Formulário</a>
                <a href="">Ranking</a>
            </div>
            <div class="usuario">
                <img src="img/loginuser.png" alt="" width="50px" height="50px">
                <span id="b_usuario">usuário</span>
                <button onclick="menu()" class="botao--menu"><i class="fi fi-rs-angle-small-down"></i></button>
                <div class="sair--inativo">
                    <p onclick="limparSessao()">Sair</p>
                </div>
            </div>
        </div>
        <h1 class="titulo--quiz">Descubra o campeão pela frase!</h1>
        <div class="quiz">
            <div class="conteudoQuiz">
                <h3 id="pergunta">PERGUNTA AQUI</h3>
                <button id="op1" class="option">Alternativa 1</button>
                <button id="op2" class="option">Alternativa 2</button>
                <button id="op3" class="option">Alternativa 3</button>
                <button id="op4" class="option">Alternativa 4</button>
                <div class="proximo">
                    <button class="responder" id="responder">Responder</button>
                </div>
            </div>
            <div class="finalizarQuiz">
                <img src="" alt="" id="imagem__nota">
                <p id="notaFinal"></p>
                <button onclick="finalizar()" id="botao__finalizar">Finalizar</button>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    var contador = 0
    var pontos = 0
    var resposta = ''
    atualizar();
    function atualizar() {
        const Perguntas = [{
            pergunta: "Agora vocês podem me admirar",
            resposta: [{ text: "Ahri", isCorrect: false },
            { text: "Renata Glasc", isCorrect: false },
            { text: "Qiyana", isCorrect: true },
            { text: "Evelynn", isCorrect: false }
            ]

        },
        {
            pergunta: "Precisão é a diferença entre um açougueiro e um cirurgião",
            resposta: [{ text: "Camille", isCorrect: true },
            { text: "Shen", isCorrect: false },
            { text: "Kennen", isCorrect: false },
            { text: "Olaf", isCorrect: false }
            ]

        },
        {
            pergunta: "Não confie em nada além da sua força",
            resposta: [{ text: "Darius", isCorrect: false },
            { text: "Trundle", isCorrect: false },
            { text: "Ornn", isCorrect: false },
            { text: "Sejuani", isCorrect: true }
            ]

        },
        {
            pergunta: "A rosa negra irá desabrochar novamente",
            resposta: [{ text: "Zyra", isCorrect: false },
            { text: "Illaoi", isCorrect: false },
            { text: "Leblanc", isCorrect: true },
            { text: "Gwen", isCorrect: false }
            ]

        },
        {
            pergunta: "Enquanto eu viver ninguém há de sofrer",
            resposta: [{ text: "Seraphine", isCorrect: false },
            { text: "Morgana", isCorrect: false },
            { text: "Janna", isCorrect: false },
            { text: "Soraka", isCorrect: true }
            ]

        },
        {
            pergunta: "Eu sou o terror de todos que se opõem à mim",
            resposta: [{ text: "Darius", isCorrect: false },
            { text: "Nocturne", isCorrect: false },
            { text: "Shyvana", isCorrect: true },
            { text: "Mordekaiser", isCorrect: false }
            ]

        },
        {
            pergunta: "Vão tremer diante da minha perfeição",
            resposta: [{ text: "Ahri", isCorrect: false },
            { text: "Leona", isCorrect: false },
            { text: "Diana", isCorrect: false },
            { text: "Kayle", isCorrect: true }
            ]

        }
        ]

        const frase = document.querySelector('#pergunta')
        const alternativa1 = document.querySelector('#op1')
        const alternativa2 = document.querySelector('#op2')
        const alternativa3 = document.querySelector('#op3')
        const alternativa4 = document.querySelector('#op4')

        frase.innerText = Perguntas[contador].pergunta
        alternativa1.innerText = Perguntas[contador].resposta[0].text
        alternativa2.innerText = Perguntas[contador].resposta[1].text
        alternativa3.innerText = Perguntas[contador].resposta[2].text
        alternativa4.innerText = Perguntas[contador].resposta[3].text

        alternativa1.value = Perguntas[contador].resposta[0].isCorrect
        alternativa2.value = Perguntas[contador].resposta[1].isCorrect
        alternativa3.value = Perguntas[contador].resposta[2].isCorrect
        alternativa4.value = Perguntas[contador].resposta[3].isCorrect

        alternativa1.addEventListener("click", () => {
            op1.style.color = '#000000'
            op2.style.color = '#FFFFFF'
            op3.style.color = '#FFFFFF'
            op4.style.color = '#FFFFFF'
            op1.style.backgroundColor = "#FFFFFF";
            op2.style.backgroundColor = "#000000";
            op3.style.backgroundColor = "#000000";
            op4.style.backgroundColor = "#000000";
            resposta = alternativa1.value;
        })

        alternativa2.addEventListener("click", () => {
            op1.style.color = '#FFFFFF'
            op2.style.color = '#000000'
            op3.style.color = '#FFFFFF'
            op4.style.color = '#FFFFFF'
            op1.style.backgroundColor = "#000000";
            op2.style.backgroundColor = "#FFFFFF";
            op3.style.backgroundColor = "#000000";
            op4.style.backgroundColor = "#000000";
            resposta = alternativa2.value;
        })

        alternativa3.addEventListener("click", () => {
            op1.style.color = '#FFFFFF'
            op2.style.color = '#FFFFFF'
            op3.style.color = '#000000'
            op4.style.color = '#FFFFFF'
            op1.style.backgroundColor = "#000000";
            op2.style.backgroundColor = "#000000";
            op3.style.backgroundColor = "#FFFFFF";
            op4.style.backgroundColor = "#000000";
            resposta = alternativa3.value;
        })

        alternativa4.addEventListener("click", () => {
            op1.style.backgroundColor = "#000000";
            op2.style.backgroundColor = "#000000";
            op3.style.backgroundColor = "#000000";
            op1.style.color = '#FFFFFF'
            op2.style.color = '#FFFFFF'
            op3.style.color = '#FFFFFF'
            op4.style.color = '#000000'
            op4.style.backgroundColor = "#FFFFFF";
            resposta = alternativa4.value;
        })
    }

    const respondeu = document.querySelector('#responder')

    respondeu.addEventListener("click", () => {
        if (resposta == "true") {
            pontos++
        }
        else {
            pontos = pontos
        }

        if (contador < 6) {
            contador++
            atualizar();
        }
        else {
            finalizarQuiz();
        }
    })

    function finalizarQuiz(){
        const conteudo = document.querySelector('.conteudoQuiz')
        const nota = document.querySelector('.finalizarQuiz')
        conteudo.style.display = 'none'
        nota.style.display = 'flex'
        if (pontos <= 3){
            imagem__nota.src = 'img/AmumuIcon_16.webp'
            nota.style.backgroundColor = '#000000'
            nota.style.color = '#FFFFFF'
            botao__finalizar.style.backgroundColor = '#FFFFFF'
            botao__finalizar.style.color = '#000000'
        }
        else if (pontos <= 6){
            imagem__nota.src = 'img/gif__vi.gif'
            nota.style.backgroundColor = '#000000'
            nota.style.color = '#FFFFFF'
            botao__finalizar.style.backgroundColor = '#FFFFFF'
            botao__finalizar.style.color = '#000000'
        }
        else {
            imagem__nota.src = 'img/Zilean_Gif.webp'
            nota.style.backgroundColor = '#000000'
            nota.style.color = '#FFFFFF'
            botao__finalizar.style.backgroundColor = '#FFFFFF'
            botao__finalizar.style.color = '#000000'
        }
        notaFinal.innerHTML = `Você acertou: ${pontos} de 7!`
    }

    function finalizar (){
        window.location = 'quiz.html'
    }
</script>